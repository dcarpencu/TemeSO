#!/bin/bash

regex="(^[a-zA-Z][a-zA-Z0-9\-]*@[a-zA-Z][a-zA-Z0-9]*\.(?:com|eu|ro));(2[0-5]{0,2}|2[0-4][0-9]|1[0-9]{0,2}|[1-9]{1,2})\.(2[0-5]{0,2}|2[0-4][0-9]|1[0-9]{0,2}|[0-9]{1,2})\.(?:2[0-5]{0,2}|2[0-4][0-9]|1[0-9]{0,2}|[0-9]{1,2})\.(?:2[0-5][0-4]|2[0-4][0-9]|1[0-9]{0,2}|[0-9]{1,2})$"
while read line;
do
if [[ $line =~ $regex ]];
then 
	echo "Gut" >> $2
else
	echo "ERROR" >> $2
fi
done < $1
